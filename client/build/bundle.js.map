{"version":3,"sources":["webpack:///webpack/bootstrap 3d4d38a5ac7e761bb21b","webpack:///./src/app.js","webpack:///./src/models/mapWrapper.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iEAAiE,IAAI,OAAO,KAAK;AACjF;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;AC3DA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3d4d38a5ac7e761bb21b","var MapWrapper = require('./models/mapWrapper');\n\nvar makeRequest = function(url, callback){\n  var request = new XMLHttpRequest();\n  request.open(\"GET\", url);\n  request.addEventListener(\"load\", callback);\n  request.send();\n};\n\nvar requestComplete = function(){\n  if(this.status !== 200) return;\n  var jsonString = this.responseText;\n\n  var apiData = JSON.parse(jsonString);\n  console.log(apiData);\n  showSunInfo(apiData);\n};\n\nvar showSunInfo = function(apiData){\n  var sunriseTime = document.getElementById('sunrise');\n  sunriseTime.innerHTML = apiData.results.sunrise;\n  var sunsetTime = document.getElementById('sunset');\n  sunsetTime.innerHTML = apiData.results.sunset;\n};\n\nvar getLatLong = function(){\n  var target = document.getElementById('latitude');\n  var lat = document.getElementById('latitude').innerHTML;\n  var long = document.getElementById('longitude').innerHTML;\n  if(target.className == \"locationAdded\"){\n     var sunriseurl = `https://api.sunrise-sunset.org/json?lat=${lat}&lng=${long}`;\n     makeRequest(sunriseurl, requestComplete);\n     target.className = \"\";\n  };\n};\n\nvar createMap = function(){\n  var container = document.getElementById(\"map\");\n  var center = { lat: 56.740674, lng: -4.2187500 };\n  var zoom = 7;\n  mainMap = new MapWrapper(container, center, zoom);\n\n  // geolocation\n  mainMap.userLocation();\n  // search box\n  mainMap.createSearchBox();\n\n};\n\nvar app = function(){\n  createMap();\n  setTimeout(function() {\n    getLatLong();\n  }, 5000);\n  var googlemap = document.getElementById(\"map\");\n  googlemap.addEventListener('change', function(){\n    getLatLong();\n  });\n};\n\nwindow.addEventListener('load', app);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app.js\n// module id = 0\n// module chunks = 0","\nvar MapWrapper = function(container, coords, zoom){\n  this.googleMap = new google.maps.Map(container, {\n    center: coords,\n    zoom: zoom\n  });\n  this.markers = [];\n};\n\nMapWrapper.prototype.createSearchBox = function(){\n  // Create the search box and link it to the UI element.\n  var input = document.getElementById('pac-input');\n  var searchBox = new google.maps.places.SearchBox(input);\n  this.googleMap.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\n\n  // Bias the SearchBox results towards current map's viewport.\n  searchBox.addListener('bounds_changed', function() {\n    searchBox.setBounds(this.getBounds());\n  });\n  // Listen for the event fired when the user selects a prediction and retrieve\n  // more details for that place.\n  searchBox.addListener('places_changed', function() {\n    var places = searchBox.getPlaces();\n\n    if (places.length == 0) {\n      return;\n    };\n    // For each place, get the icon, name and location.\n\n    var bounds = new google.maps.LatLngBounds();\n      places.forEach(function(place) {\n        var newPlace = place;\n        if (!place.geometry) {\n          console.log(\"Returned place contains no geometry\");\n          return;\n        };\n\n    this.createMarker(newPlace);\n\n      if (place.geometry.viewport) {\n        // Only geocodes have viewport.\n        bounds.union(place.geometry.viewport);\n      } else {\n        bounds.extend(place.geometry.location);\n      }\n    }.bind(this));\n    this.googleMap.fitBounds(bounds);\n  }.bind(this));\n};\n\nMapWrapper.prototype.removeMarker = function(){\n  if(this.markers.length >= 1){\n    var last = this.markers.pop();\n    last.setMap(null);\n  }else{\n    console.log(\"nothing to remove\");\n  };\n};\n\nMapWrapper.prototype.createMarker = function(place){\n  this.removeMarker();\n  var icon = {\n    url: place.icon,\n    size: new google.maps.Size(71, 71),\n    origin: new google.maps.Point(0, 0),\n    anchor: new google.maps.Point(17, 34),\n    scaledSize: new google.maps.Size(25, 25)\n  };\n  var newMarker = new google.maps.Marker({\n    map: this.googleMap,\n    title: place.name,\n    icon: icon,\n    position: place.geometry.location\n  });\n  var locate = place.geometry.location;\n  newMarker.infowindow = new google.maps.InfoWindow({\n    content: \"Your new location\"\n  });\n  newMarker.infowindow.open(this.googleMap, newMarker);\n  this.markers.push(newMarker);\n  this.showCoords(newMarker);\n};\n\nMapWrapper.prototype.showCoords = function(marker){\n  var lat = document.getElementById(\"latitude\");\n  var long = document.getElementById(\"longitude\");\n  lat.className = \"locationAdded\";\n  lat.innerHTML = marker.position.lat();\n  long.innerHTML = marker.position.lng();\n}\n\nMapWrapper.prototype.userLocation = function(){\n  navigator.geolocation.getCurrentPosition(function(position){\n    var coords = {lat: position.coords.latitude, lng: position.coords.longitude};\n    this.googleMap.setCenter(coords);\n    this.googleMap.setMapTypeId(\"roadmap\");\n    this.googleMap.setZoom(14);\n    var marker = new google.maps.Marker({\n      position: coords,\n      infoWindowOpen: false,\n      map: this.googleMap,\n    });\n    this.markers.push(marker);\n    var contentString = '<div id=\"content\">' +\n    '<div id=\"bodyContent\">' +\n    `<h3 id=\"user-loc\">You are here</h3>` +\n    '</div>' +\n    '</div>';\n    marker.infowindow = new google.maps.InfoWindow({\n      content: contentString\n    });\n    marker.infowindow.open(this.googleMap, marker);\n    marker.infowindowOpen = true;\n    this.showCoords(marker);\n    console.log(marker + \"hi\");\n  }.bind(this));\n\n};\n\nmodule.exports = MapWrapper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/models/mapWrapper.js\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}